import{u as y,a as v,j as a,L as b,n as _,c as g,b as r}from"./index-WqMDXwdV.js";function q(){const{items:l,totalPrice:c,removeItem:o,clear:d,updateItemQty:m}=y(),{info:i,success:h}=v();if(!l.length)return a.jsxs("main",{className:"Cart",children:[a.jsx("h2",{className:"Cart__title",children:"Tu carrito"}),a.jsxs("div",{className:"Cart__emptyBox",children:[a.jsx("div",{className:"Cart__emoji","aria-hidden":!0,children:"ğŸ›ï¸"}),a.jsx("p",{className:"Cart__emptyText",children:"Tu carrito estÃ¡ vacÃ­o. EmpezÃ¡ agregando algo rico para tu michi."}),a.jsx(b,{className:"Btn Btn--primary",to:"/",children:"Ir al catÃ¡logo"})]})]});const n=l.reduce((t,s)=>{const e=_(s);return t+(e.qty||0)},0);function u(t){o(t.id),i(`Quitado: ${t.title}`)}function C(){d(),i("Carrito vaciado")}function x(){h(`Â¡Compra realizada! Total ${r(c)} ğŸ™Œ`),d()}function j(t){const e=(t.qty||1)-1;e<=0?(o(t.id),i(`Quitado: ${t.title}`)):m(t.id,e)}function N(t){const e=(t.qty||1)+1;m(t.id,e)}return a.jsxs("main",{className:"Cart",children:[a.jsxs("header",{className:"Cart__header",children:[a.jsx("h2",{className:"Cart__title",children:"Tu carrito"}),a.jsxs("p",{className:"Cart__subtitle",children:[n," ",n===1?"producto":"productos"]})]}),a.jsxs("section",{className:"Cart__layout",children:[a.jsx("ul",{className:"Cart__list",role:"list",children:l.map(t=>{const s=_(t),e=(s.price||0)*(s.qty||1),p=g(s.image||s.imageUrl||s.thumbnail||"/images/placeholder.jpg");return a.jsxs("li",{className:"Cart__row",children:[a.jsx("div",{className:"Cart__thumb",children:a.jsx("img",{className:"Cart__img",src:p,alt:s.title,loading:"lazy",width:92,height:92})}),a.jsxs("div",{className:"Cart__info",children:[a.jsx("strong",{className:"Cart__name",children:s.title}),a.jsxs("div",{className:"Cart__qtyRow",children:[a.jsx("span",{className:"Cart__muted",children:"Cantidad:"}),a.jsxs("div",{className:"Cart__qtyControl",children:[a.jsx("button",{type:"button",className:"Cart__qtyBtn",onClick:()=>j(s),"aria-label":`Disminuir cantidad de ${s.title}`,children:"âˆ’"}),a.jsx("span",{className:"Cart__qtyValue",children:s.qty}),a.jsx("button",{type:"button",className:"Cart__qtyBtn",onClick:()=>N(s),"aria-label":`Aumentar cantidad de ${s.title}`,children:"+"})]})]})]}),a.jsxs("div",{className:"Cart__priceBlock",children:[a.jsxs("div",{className:"Cart__line",children:[a.jsx("span",{className:"Cart__label",children:"Precio"}),a.jsx("span",{className:"Cart__num",children:r(s.price)})]}),a.jsxs("div",{className:"Cart__line",children:[a.jsx("span",{className:"Cart__label",children:"Subtotal"}),a.jsx("span",{className:"Cart__num Cart__num--strong",children:r(e)})]}),a.jsx("div",{className:"Cart__actions",children:a.jsxs("button",{className:"Cart__removeChip",onClick:()=>u(s),"aria-label":`Quitar ${s.title} del carrito`,children:["ğŸ—‘ï¸ ",a.jsx("span",{className:"Cart__removeText",children:"Quitar"})]})})]})]},s.id)})}),a.jsxs("aside",{className:"Cart__summary","aria-label":"Resumen de compra",children:[a.jsxs("div",{className:"Cart__sumRow",children:[a.jsx("span",{children:"Productos"}),a.jsx("span",{className:"Cart__num",children:n})]}),a.jsxs("div",{className:"Cart__sumRow Cart__sumRow--total",children:[a.jsx("span",{children:"Total"}),a.jsx("strong",{className:"Cart__num",children:r(c)})]}),a.jsxs("div",{className:"Cart__sumActions",children:[a.jsx("button",{className:"Btn Btn--ghost",onClick:C,children:"Vaciar"}),a.jsx("button",{className:"Btn Btn--primary",onClick:x,children:"Finalizar compra"})]})]})]})]})}export{q as default};
